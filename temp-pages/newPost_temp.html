<!DOCTYPE html>
<html lang="kr" id="newPost">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link href="./style/style.css" rel="stylesheet" />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://uicdn.toast.com/editor/latest/toastui-editor.min.css"
    />
    <script src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js"></script>
    <title>새글작성</title>
  </head>
  <body>
    <!-- <div class="row">
      <div class="col">
        <input
          id="title"
          class="border-0 w-100 fs-1 mt-3 mb-3"
          type="text"
          placeholder="제목을 입력하세요"
          onkeyup="setMarkdownTitle()"
        />
      </div>
      <div class="col">
        <div id="markdownTitle" class="fs-1 mt-3 mb-3"></div>
      </div>
    </div>
    <div id="editor"></div>
    <div class="fixed-bottom p-3 row bg-white shadow-lg">
      <span class="col me-auto">
        <a href="./index.html" class="text-decoration-none text-dark">
          <img src="./img/exit.svg" alt="exit" />
          <span class="m-2">나가기</span>
        </a>
      </span>
      <button
        type="button"
        class="btn fw-bold text-white col-auto mx-2"
        style="background-color: #20c997"
      >
        저장하기
      </button>
    </div> -->
    <div class="container-fluid">
      <div class="row row-cols-1 row-cols-md-2">
        <div class="col vh-100">
          <input
            id="title"
            class="border-0 w-100 fs-1 mt-3 mb-3"
            type="text"
            placeholder="제목을 입력하세요"
            onkeyup="setMarkdownTitle()"
          />
          <textarea
            id="markdownEditor"
            style="height: 70%; margin-bottom: 70px; resize: none"
            class="w-100 border-0 fs-5"
            placeholder="내용을 입력하세요"
            onkeyup="parseMarkdown()"
          ></textarea>
        </div>
        <div class="col vh-100 bg-light">
          <div id="markdownTitle" class="fs-1 mt-3 mb-3"></div>
          <div id="markdownResult" class="h-75 fs-5"></div>
        </div>
      </div>
      <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
      d
    </div>
    <!-- <script>
      const Editor = toastui.Editor;

      const editor = new Editor({
        el: document.querySelector("#editor"),
        height: "500px",
        initialEditType: "markdown",
        previewStyle: "vertical",
      });
    </script> -->
  </body>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    function checkImage(input) {
      let regex = /!\[]\(.*\)/i;
      return regex.test(input);
    }
    function setMarkdownTitle() {
      const titleElement = document.getElementById("title");
      const markdownTitle = document.getElementById("markdownTitle");
      markdownTitle.innerHTML = titleElement.value
        ? titleElement.value
        : titleElement.getAttribute("placeholder");
    }
    function parseMarkdown() {
      const markdownEditorElement = document.getElementById("markdownEditor");
      const markdownResult = document.getElementById("markdownResult");
      markdownResult.innerHTML = marked.parse(
        markdownEditorElement.value
          ? markdownEditorElement.value
          : markdownEditorElement.getAttribute("placeholder")
      );
    }

    setMarkdownTitle();
    parseMarkdown();

    // if (checkImage(markdownEditorElement.value)) {
    //   alert("오우");
    // }
  </script>
</html>
